<?xml version="1.0" encoding="iso-8859-2"?>
<!-- $Revision: 1.4 $ -->
 <reference id="ref.ftp">
  <title>Funkcje FTP</title>
  <titleabbrev>FTP</titleabbrev>

  <partintro>
   <para>
    Funkcje z tego rozszerzenia implementuj± kliencki dostêp do plików serwera
    rozpoznaj±cego File Transfer Protocol FTP opisanego w
    &spec.ftp;.
   </para>

   <para>
    Poni¿sze sta³e s± zdefiniowane podczas pracy z modu³em FTP:
    <constant>FTP_ASCII</constant> i <constant>FTP_BINARY</constant>.
   </para>
  <para>
   Aby móc skorzystaæ z funkcji FTP, powinno siê dodaæ opcjê
   <link linkend="install.configure.enable-ftp">
   <option>--enable-ftp</option></link> przy instalacji PHP 4 lub
   <link linkend="install.configure.with-ftp">
   <option>--with-ftp</option></link> u¿ywaj±c PHP 3.
  </para>
   <para>
    <example>
     <title>Przyk³ad <function>ftp</function></title>
      <programlisting>
&lt;?php
// ustaw podstawowe po³±czenie
$conn_id = ftp_connect("$ftp_server"); 

// zaloguj siê nazw± u¿ytkownika i has³em
$login_result = ftp_login($conn_id, "$ftp_user_name", "$ftp_user_pass"); 

// sprawd¼ po³±czenie
if ((!$conn_id) || (!$login_result)) { 
        echo "Po³±czenie FTP siê nie powiod³o!";
        echo "Próbowano po³±czyæ siê do $ftp_server jako u¿ytkownik";
           . $ftp_user_name;
        die; 
    } else {
        echo "Po³±czony z $ftp_server jako u¿ytkownik $ftp_user_name";
    }

// prze¶lij plik
$upload = ftp_put($conn_id, "$plik_docelowy", "$plik_zrodlowy", FTP_BINARY); 

// sprawd¼ stan operacji
if (!$upload) { 
        echo "Ftp upload has failed!";
    } else {
        echo "Przes³ano $plik_zrodlowy na $ftp_server jako $plik_docelowy";
    }

// zamknij strumieñ FTP
ftp_quit($conn_id); 
?>
     </programlisting>
    </example>
   </para>
  </partintro>

  <refentry id="function.ftp-connect">
   <refnamediv>
    <refname>ftp_connect</refname>
    <refpurpose>Otwiera po³±czenie FTP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_connect</function></funcdef>
      <paramdef>string <parameter>host</parameter></paramdef>
      <paramdef>int <parameter><optional>port</optional>
       </parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Zwraca strumieñ FTP w przypadku sukcesu, lub warto¶æ &false; w przypadku
     pora¿ki.
    </para>
    <para>
     <function>ftp_connect</function> otwiera po³±czenie z hostem podanym w
     parametrze <parameter>host</parameter>.  Paremetr <parameter>port
     </parameter> okre¶la alternatywny port po³±czenia. Je¶li jest on
     pominiêty lub równy zero, u¿yty bêdzie domy¶lny port FTP, czyli 21.
    </para>
   </refsect1>
  </refentry>


  <refentry id="function.ftp-login">
   <refnamediv>
    <refname>ftp_login</refname>
    <refpurpose>Loguje siê w po³±czeniu FTP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_login</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>nazwa_uzytkownika</parameter></paramdef>
      <paramdef>string <parameter>haslo</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Loguje siê do podanego strumienia FTP.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-pwd">
   <refnamediv>
    <refname>ftp_pwd</refname>
    <refpurpose>Zwraca nazwê bie¿±cego katalogu</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>ftp_pwd</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Zwraca nazwê bie¿±cego katalogu lub &false; w przypadku napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-cdup">
   <refnamediv>
    <refname>ftp_cdup</refname>
    <refpurpose>Zmienia bie¿±cy katalog na nadrzêdny</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_cdup</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Zmienia bie¿±cy katalog na nadrzêdny.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-chdir">
   <refnamediv>
    <refname>ftp_chdir</refname>
    <refpurpose>Zmienia katalog na serwerze FTP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_chdir</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>katalog</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Zmienia bie¿±cy katalog na ten okre¶lony w parametrze
     <parameter>katalog</parameter>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-mkdir">
   <refnamediv>
    <refname>ftp_mkdir</refname>
    <refpurpose>Tworzy katalog</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>ftp_mkdir</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>katalog</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Tworzy podany <parameter>katalog</parameter>.
    </para>
    <para>
     W przypadku sukcesu zwraca nazwê nowo utworzonego katalogu, lub warto¶æ
     &false; w przypadku napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-rmdir">
   <refnamediv>
    <refname>ftp_rmdir</refname>
    <refpurpose>Usuwa katalog</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_rmdir</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>katalog</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para> 
     Tworzy podany <parameter>katalog</parameter>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-nlist">
   <refnamediv>
    <refname>ftp_nlist</refname>
    <refpurpose>Zwraca listê plików w podanym katalogu.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>array <function>ftp_nlist</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>katalog</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     W przypadku sukcesu zwracana jest tablica z nazwami plików lub warto¶æ
     &false; w przypadku napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-rawlist">
   <refnamediv>
    <refname>ftp_rawlist</refname>
    <refpurpose>
     Zwraca szczegó³ow± listê plików w podanym katalogu.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>array <function>ftp_rawlist</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>katalog</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_rawlist</function> wykonuje polecenie FTP LIST i zwraca
     wynik tego polecenia jako tablicê. Ka¿dy element odpowiada jednej linii
     tekstu. Wyj¶cie nie jest parsowane w jakikolwiek sposób. Identyfikator
     systemu, zwracany przez <function>ftp_systype</function>, mo¿e byæ u¿yty
     do interpretacji wyników.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-systype">
   <refnamediv>
    <refname>ftp_systype</refname>
    <refpurpose>
     Zwraca identyfikator systemu dla zdalnego serwera FTP.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>ftp_systype</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Zwraca typ zdalnego systemu lub &false; w przypadku napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-pasv">
   <refnamediv>
    <refname>ftp_pasv</refname>
    <refpurpose>W³±cza/wy³±cza tryb pasywny.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_pasv</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>int <parameter>pasywny</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_pasv</function> w³±cza tryb pasywny je¶li parametr
     <parameter>pasywny</parameter> ma warto¶æ &true; (wy³±cza tryb pasywyny
     je¶li parametr <parameter>pasywny</parameter> ma warto¶æ &false;.) W
     trybie pasywnym, po³±czenia danych s± inicjowane przez klienta a nie
     przez serwer.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-get">
   <refnamediv>
    <refname>ftp_get</refname>
    <refpurpose>Pobiera plik z serwera FTP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_get</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>plik_lokalny</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
      <paramdef>int <parameter>tryb</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_get</function> pobiera <parameter>plik_zdalny</parameter> z
     serwera FTP i zapisuje go lokalnie jako <parameter>plik_lokalny
     </parameter>. <parameter>tryb</parameter> po³±czenia musi byæ podany jako
     <constant>FTP_ASCII</constant> lub <constant>FTP_BINARY</constant>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-fget">
   <refnamediv>
    <refname>ftp_fget</refname>
    <refpurpose>
     Pobiera plik z serwera FTP i zapisuje go do otwartego pliku.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_fget</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>int <parameter>fp</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
      <paramdef>int <parameter>tryb</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_fget</function> pobiera <parameter>plik_zdalny</parameter>
     z serwera FTP i zapisuje go do podanego wska¼nika,
     <parameter>fp</parameter>.  <parameter>tryb</parameter> musi byæ podany
     jako <constant>FTP_ASCII</constant> lub <constant>FTP_BINARY</constant>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-put">
   <refnamediv>
    <refname>ftp_put</refname>
    <refpurpose>Umieszcza plik na serwerze FTP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_put</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
      <paramdef>string <parameter>plik_lokalny</parameter></paramdef>
      <paramdef>int <parameter>tryb</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_put</function> umieszcza <parameter>plik_lokalny</parameter>
     na serwerze jako <parameter>plik_zdalny</parameter>. <parameter>tryb
     </parameter> po³±czenia musi byæ okre¶lony jako
     <constant>FTP_ASCII</constant> lub <constant>FTP_BINARY</constant>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
    <para>
     <example>
      <title>Przyk³ad <function>ftp_put</function></title>
      <programlisting role="php">
$upload = ftp_put ($conn_id, "$plik_docelowy", "$plik_zrodlowy", FTP_ASCII); 
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-fput">
   <refnamediv>
    <refname>ftp_fput</refname>
    <refpurpose>Umieszcza dane z otwartego pliku na serwerze FTP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_fput</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
      <paramdef>int <parameter>fp</parameter></paramdef>
      <paramdef>int <parameter>tryb</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_fput</function> umieszcza na serwerze dane pobrane ze
     wska¼nika <parameter>fp</parameter> do koñca pliku. <parameter>tryb
     </parameter> po³±czenia musi byæ okre¶lony jako
     <constant>FTP_ASCII</constant> lub <constant>FTP_BINARY</constant>
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-size">
   <refnamediv>
    <refname>ftp_size</refname>
    <refpurpose>Zwraca rozmiar podanego pliku.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_size</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_size</function> zwraca rozmiar zdalnego pliku. Je¶li
     napotkany zostanie b³±d lub plik nie istnieje, zwracana jest
     warto¶æ -1. Nie wszystkie serwery obs³uguj± t± opcjê.
    </para>
    <para>
     W przypadku sukcesu zwraca rozmiar podanego pliku lub -1 w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-mdtm">
   <refnamediv>
    <refname>ftp_mdtm</refname>
    <refpurpose>Zwraca czas ostaniej modyfikacji podanego pliku.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_mdtm</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>plik_zdalny</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_mdtm</function> sprawdza czas ostatniej modyfikacji
     podanego pliku i zwraca to jako UNIX timestamp (ilo¶æ sekund od
     1.1.1970). Je¶li napotkany zostanie b³±d lub plik nie istnieje, zwracana
     jest warto¶æ -1. Zauwa¿, ¿e nie wszystkie serwery obs³uguj± t± opcjê.
    </para>
    <para>
     W przypadku sukcesu zwraca UNIX timestamp lub -1 w przypadku napotkania
     b³êdu.
    </para>
    <note>
     <para>
      <function>ftp_mdtm</function> nie dzia³a dla katalogów.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-rename">
   <refnamediv>
    <refname>ftp_rename</refname>
    <refpurpose>Zmienia nazwê pliku na serwerze FTP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>boolean <function>ftp_rename</function></funcdef>
      <paramdef>resource <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>z</parameter></paramdef>
      <paramdef>string <parameter>na</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_rename</function> zmienia nazwê pliku lub katalogu o
     aktualnej nazwie <parameter>z</parameter> na now± nazwê
     <parameter>na</parameter>, na strumieniu FTP 
     <parameter>strumien_ftp</parameter>.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-delete">
   <refnamediv>
    <refname>ftp_delete</refname>
    <refpurpose>Usuwa plik z serwera FTP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_delete</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>sciezka</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_delete</function> usuwa plik okre¶lony przez parametr
     <parameter>¶ciezka</parameter> z serwera FTP.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-site">
   <refnamediv>
    <refname>ftp_site</refname>
    <refpurpose>Wysy³a serwerowi polecenie SITE.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_site</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
      <paramdef>string <parameter>cmd</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_site</function> wysy³a do serwera FTP komendê okre¶lon±
     przez parametr <parameter>cmd</parameter>. Komendy SITE nie s±
     ustandaryzowane i mog± siê ró¿niæ miêdzy serwerami. S± one przydatne przy
     obs³udze takich rzeczy jak prawa dostêpu do plików i cz³onkostwo w
     grupach.
    </para>
    <para>
     Zwraca warto¶æ &true; w przypadku sukcesu lub &false; w przypadku
     napotkania b³êdu.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ftp-quit">
   <refnamediv>
    <refname>ftp_quit</refname>
    <refpurpose>Zamyka po³±czenie FTP</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ftp_quit</function></funcdef>
      <paramdef>int <parameter>strumien_ftp</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ftp_quit</function> zamyka <parameter>strumien_ftp</parameter>.
    </para>
   </refsect1>
  </refentry>

</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
