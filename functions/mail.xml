<?xml version="1.0" encoding="iso-8859-2"?>
<!-- $Revision: 1.3 $ -->
 <reference id="ref.mail">
  <title>Funkcje obs³ugi poczty elektronicznej</title>
  <titleabbrev>Mail</titleabbrev>
  <partintro>
   <simpara>
    <function>mail</function> pozwala ci wysy³aæ listy e-mail.
   </simpara>
  </partintro>

  <refentry id="function.mail">
   <refnamediv>
    <refname>mail</refname>
    <refpurpose>wy¶lij e-maila</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>bool <function>mail</function></funcdef>
      <paramdef>string <parameter>do</parameter></paramdef>
      <paramdef>string <parameter>temat</parameter></paramdef>
      <paramdef>string <parameter>tre¶æ</parameter></paramdef>
      <paramdef>string
       <parameter><optional>dodatkowe_nag³ówki</optional></parameter>
      </paramdef>
      <paramdef>string
       <parameter><optional>dodatkowe_parametry</optional>
       </parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <simpara>
     <function>mail</function> automatycznie wysy³a wiadomo¶æ
     okre¶lon± w <parameter>tre¶æ</parameter> do odbiorcy
     okre¶lonego w <parameter>do</parameter>. Mo¿na wys³aæ wiadomo¶æ do kilku
     odbiorców na raz, wypisuj±c ich adresy po przecinku w argumencie
     <parameter>do</parameter>.  Poprzez tê funkcjê mo¿na te¿ wys³aæ listy
     zawieraj±ce za³±czniki lub inne typy wiadomo¶ci. Jest to mo¿liwe dziêki
     kodowaniu MIME - po wiêcej informacji, zajrzyj
     <ulink url="http://www.zend.com/zend/spotlight/sendmimeemailpart1.php"
     >http://www.zend.com/zend/spotlight/sendmimeemailpart1.php</ulink> lub
     RFC 1896 (Visit <ulink url="http://www.rfc-editor.org/"
     >http://www.rfc-editor.org/</ulink>).
    </simpara>
    <para>
     <function>mail</function> zwraca &true; je¶li uda³o siê wys³aæ e-mail, w
     przeciwnym wypadku zwraca &false;.
    </para>
    <para>
     <example>
      <title>Wysy³anie e-maila.</title>
      <programlisting>
mail("rasmus@lerdorf.on.ca", "Temat listu", "Linia 1\nLinia 2\nLinia 3");
      </programlisting>
     </example></para>
    <simpara>
     Je¶li zostanie podany czwarty argument, bêdzie on dopisany na koñcu
     nag³ówka wiadomo¶ci. Ten argument wykorzystuje siê do wstawienia
     dodatkowych nag³ówków.
     Dodatkowe nag³ówki rozdziela siê znakiem nowego wiersza.
    </simpara>
    <note>
     <para>
     W systemach Win32, trzeba u¿yæ <literal>\r\n</literal> aby
     rozdzieliæ nag³ówki.  Nale¿y tak¿e zwróciæ uwagê na nag³ówki cc: i bcc:,
     przy których rozró¿niana jest wielko¶æ liter i z tego powodu, w systemach
     Win32 powinny byæ pisane jako <literal>Cc:</literal>
     i <literal>Bcc:</literal>.
     </para>
    </note>
    <simpara>
     Po podaniu pi±tego argumentu, PHP doda jego zawarto¶æ do wywo³ania
     serwera poczty wychodz±cej (mailera).  Potrzebne jest to do prawid³owego
     ustawienia nag³ówka Return-Path przy wysy³aniu za pomoc± programu sendmail.
    </simpara>
    <para>
     <example>
      <title>Wysy³anie listu z dodatkowymi nag³ówkami.</title>
      <programlisting>
mail("nobody@aol.com", "the subject", $message,
     "From: webmaster@$SERVER_NAME\nReply-To: webmaster@$SERVER_NAME\nX-Mailer:
     PHP/" . phpversion());
      </programlisting>
     </example>
     Za pomoc± pi±tego argumentu mo¿na wys³aæ dodatkowe parametry do serwera
     poczty wychodz±cej. W poni¿szym przyk³adzie ustawiamy w³a¶ciwy nag³ówek
     Return-Path dla sendmaila. Normalnie sendmail doda nag³ówek
     X-Authentication-Warning po u¿yciu parametru -f, poniewa¿ serwer www
     prawdopodobnie nie zalicza siê do zaufanych u¿ytkowników. Aby pozbyæ siê
     powy¿szego ostrze¿enia, nale¿y dodaæ serwer www do listy zaufanych
     u¿ytkowników w pliku konfiguracyjnym sendmaila.
    </para>
    <note>
     <para>
      Pi±ty argument dodano w PHP 4.0.5.
     </para>
    </note>
    <para>
     <example>
      <title>Wysy³anie listu z dodatkowymi nag³ówkami i prze³±cznikami.</title>
      <programlisting>
mail("nobody@aol.com", "the subject", $message,
     "From: webmaster@$SERVER_NAME", "-fwebmaster@$SERVER_NAME");
      </programlisting>
     </example>
     Mo¿na tez u¿yæ zwyk³ych operacji na ³añcuchach znaków do tworzenia
     z³o¿onych wiadomo¶ci e-mail.
     <example>
      <title>Wysy³anie z³o¿onego e-maila.</title>
      <programlisting>
/* adresaci */
$recipient .= "Mary &lt;mary@u.college.edu>" . ", " ; //zwróæ uwagê na przecinek
$recipient .= "Kelly &lt;kelly@u.college.edu>" . ", ";
$recipient .= "ronabop@php.net";

/* temat */
$subject = "Birthday Reminders for August";

/* wiadomo¶æ */
$message .= "The following email includes a formatted ASCII table\n";
$message .= "Day \t\tMonth \t\tYear\n";
$message .= "3rd \t\tAug \t\t1970\n";
$message .= "17rd\t\tAug \t\t1973\n";

/* mo¿na dodaæ sygnaturê rozdzielaj±c± */
$message .= "--\r\n"; //sygnatura rozdzielaj±ca
$message .= "Birthday reminder copylefted by public domain";

/* dodatkowe nag³ówki na okoliczno¶æ b³êdów, From cc, bcc, itp. */

$headers .= "From: Birthday Reminder &lt;birthday@php.net>\n";
$headers .= "X-Sender: &lt;birthday@php.net>\n";
$headers .= "X-Mailer: PHP\n"; // program pocztowy
$headers .= "X-Priority: 1\n"; // wa¿na wiadomo¶æ!
$headers .= "Return-Path: &lt;birthday@php.net>\n";  // adres zwrotny dla b³êdów

/* Je¶li chcesz wys³aæ list w formacie html, odkomentuj poni¿sze linie */
// $headers .= "Content-Type: text/html; charset=iso-8859-1\n"; // typy MIME

$headers .= "cc: birthdayarchive@php.net\n"; // CC do kogo
$headers .= "bcc: birthdaycheck@php.net, birthdaygifts@php.net"; // BCC do kogo

/* a teraz wy¶lij */
mail($recipient, $subject, $message, $headers);
      </programlisting>
     </example>
    </para>
    <note>
     <para>
       Upewnij siê, ¿e nie ma nowej linii (ani spacji) po argumentach do lub
       temat, bo mo¿e to wywo³ywaæ dziwne rezultaty.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.ezmlm-hash">
   <refnamediv>
    <refname>ezmlm_hash</refname>
    <refpurpose>Oblicza warto¶æ hash potrzebn± dla EZMLM</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ezmlm_hash</function></funcdef>
      <paramdef>string <parameter>adres_e-mail</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <simpara>
     <function>ezmlm_hash</function> oblicza warto¶æ hash potrzebn±
     przy przechowywaniu list adresatów programu EZMLM w bazie danych MySQL.
    </simpara>
    <para>
     <example>
      <title>Obliczanie warto¶ci hash i dodawanie nowego u¿ytkownika</title>
      <programlisting>
$user = "kris@koehntopp.de";
$hash = ezmlm_hash ($user);
$query = sprintf ("INSERT INTO sample VALUES (%s, '%s')", $hash, $user);
$db->query($query); // wykorzystanie interfejsu PHPLIB db
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
