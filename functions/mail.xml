<?xml version="1.0" encoding="iso-8859-2"?>
<!-- EN-Revision: 1.37 Maintainer: Qrak Status: ready -->
<!-- $Revision: 1.10 $ -->
 <reference id="ref.mail">
  <title>Poczta elektroniczna</title>
  <titleabbrev>Poczta</titleabbrev>
  <partintro>
   <simpara>
    Funkcja <function>mail</function> pozwala ci wysy³aæ listy e-mail.
   </simpara>
   <variablelist>
    <title>Dyrektywy konfiguracyjne poczty elektronicznej</title>

    <varlistentry id="ini.smtp">
     <term>
      <parameter>SMTP</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Adres w DNS-ie lub numer IP serwera SMTP, którego PHP pod Windowsem
       ma u¿yæ do wys³ania poczty za pomoc± funkcji <function>mail</function>
      </para>
     </listitem>
    </varlistentry>

    <varlistentry id="ini.sendmail-from">
     <term>
      <parameter>sendmail_from</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Okre¶la adres pocztowy w polu "From:" w listach wysy³anych z PHP pod
       Windowsem.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry id="ini.sendmail-path">
     <term>
      <parameter>sendmail_path</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Okre¶la, gdzie znajduje siê program <command>sendmail</command>, zwykle
       <filename>/usr/sbin/sendmail</filename> lub 
       <filename>/usr/lib/sendmail</filename>
       <command>configure</command> próbuje samodzielnie zlokalizowaæ ten
       program i uczniæ go domy¶lnym, ale w przypadku niepowodzenia, mo¿na
       rêcznie ustawiæ ¶cie¿kê za pomoc¹ tej dyrektywy.
      </para>
      <para>
       W systemach nie u¿ywaj±cych sendmaila, dyrektywa ta powinna wskazywaæ
       na program bêd±cy odpowiednikiem sendmaila, o ile jest taki program
       w tym systemie.
       Na przyk³ad u¿ytkownicy programu <ulink url="&url.qmail;">Qmail</ulink>
       mog± ustawiæ ¶cie¿kê na <filename>/var/qmail/bin/sendmail</filename>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </partintro>

  <refentry id="function.mail">
   <refnamediv>
    <refname>mail</refname>
    <refpurpose>wy¶lij e-maila</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
     <methodsynopsis>
      <type>bool</type><methodname>mail</methodname>
      <methodparam><type>string</type><parameter>do</parameter></methodparam>
      <methodparam><type>string</type><parameter>temat</parameter></methodparam>
      <methodparam><type>string</type><parameter>tre¶æ</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>dodatkowe_nag³ówki</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>dodatkowe_parametry
       </parameter></methodparam>
     </methodsynopsis>
    <simpara>
     <function>mail</function> automatycznie wysy³a wiadomo¶æ
     okre¶lon± w <parameter>tre¶æ</parameter> do odbiorcy
     okre¶lonego w <parameter>do</parameter>. Mo¿na wys³aæ wiadomo¶æ do kilku
     odbiorców na raz, wypisuj±c ich adresy po przecinku w argumencie
     <parameter>do</parameter>.  Poprzez tê funkcjê mo¿na te¿ wys³aæ listy
     zawieraj±ce za³±czniki lub inne typy wiadomo¶ci. Jest to mo¿liwe dziêki
     kodowaniu MIME - po wiêcej informacji, zajrzyj
     <ulink url="http://www.zend.com/zend/spotlight/sendmimeemailpart1.php"
     >http://www.zend.com/zend/spotlight/sendmimeemailpart1.php</ulink> lub
     <ulink url="&url.email.mime.pear;">Klasy Mime PEAR</ulink>.
    </simpara>
    <simpara>
       Poni¿sze RFC mog± byæ przydatne:  
       <ulink url="&url.rfc1896;">RFC 1896</ulink>,  
       <ulink url="&url.rfc2045;">RFC 2045</ulink>,  
       <ulink url="&url.rfc2046;">RFC 2046</ulink>,  
       <ulink url="&url.rfc2047;">RFC 2047</ulink>,  
       <ulink url="&url.rfc2048;">RFC 2048</ulink> i  
       <ulink url="&url.rfc2049;">RFC 2049</ulink>.  
    </simpara> 
    <para>
     <function>mail</function> zwraca &true; je¶li uda³o siê wys³aæ e-mail, lub
      &false; w przeciwnym wypadku.
    </para>
    <para>
     <example>
      <title>Wysy³anie e-maila.</title>
      <programlisting>
<![CDATA[
mail("joecool@example.com", "Temat listu", "Linia 1\nLinia 2\nLinia 3");
]]>
      </programlisting>
     </example></para>
    <simpara>
     Je¶li zostanie podany czwarty argument, bêdzie on dopisany na koñcu
     nag³ówka wiadomo¶ci. Ten argument wykorzystuje siê do wstawienia
     dodatkowych nag³ówków.
     Dodatkowe nag³ówki rozdziela siê znakiem powrotu karetki i nowego wiersza.
    </simpara>
    <note>
     <para>
     Aby rozdzieliæ nag³ówki, trzeba u¿yæ sekwencji <literal>\r\n</literal>,
     chocia¿ niektóre uniksowe agenty pocztowe obs³uguj± tak¿e pojedynczy
     znak nowej linii (<literal>\n</literal>). W nag³ówku Cc: jest rozró¿niana
     wielko¶æ liter i z tego powodu, w systemach Win32 musi byæ pisany jako
     <literal>Cc:</literal>. Nag³ówek Bcc: nie jest obs³ugiwany w systemach
     Win32.
     </para>
    </note>
    <para>
     <example>
      <title>Wysy³anie listu z dodatkowymi nag³ówkami.</title>
      <programlisting>
<![CDATA[
mail("nobody@example.com", "temat", $message,
     "From: webmaster@$SERVER_NAME\r\n"
    ."Reply-To: webmaster@$SERVER_NAME\r\n"
    ."X-Mailer: PHP/" . phpversion());
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Argumentu <parameter>dodatkowe_parametry</parameter> u¿ywa siê do
     przekazania dodatkowych paramterów do programu wysy³aj±cego pocztê
     skonfigurowanego w dyrektywie <literal>sendmail_path</literal>.
     U¿ywa siê tego na przyk³ad do ustawienia adresu zwrotnego koperty 
     (envelope sender adress) przy wysy³aniu
     listy za pomoc± sendmaila. Mo¿esz byæ zmuszony dodaæ u¿ytkownika jakim
     jest twój serwer www do listy zaufanych u¿ytkowników w pliku
     konfiguracyjnym sendmaila, aby sendmail nie doda³ nag³ówka "X-warning" do
     wiadomo¶ci przy wysy³aniu koperty (envelope) t± metod±.  
     <example>
      <title>Wysy³anie listu z dodatkowymi nag³ówkami i prze³±cznikami.</title>
      <programlisting>
<![CDATA[
mail("nobody@example.com", "temat", $message,
     "From: webmaster@$SERVER_NAME", "-fwebmaster@$SERVER_NAME");
]]>
      </programlisting>
     </example>
     </para>
     <note>
      <para>
       Pi±ty argument funkcji <function>mail</function> zosta³ dodany w 
       PHP 4.0.5.
      </para>
     </note>
     <para>
     Mo¿na tez u¿yæ zwyk³ych operacji na ³añcuchach znaków do tworzenia
     z³o¿onych wiadomo¶ci e-mail.
     <example>
      <title>Wysy³anie z³o¿onego e-maila.</title>
      <programlisting>
<![CDATA[
/* adresaci */
$to  = "Mary <mary@example.com>" . ", " ; //zwróc uwagê na przecinek
$to .= "Kelly <kelly@example.com>";

/* temat */
$subject = "Birthday Reminders for August";

/* wiadomo¶æ */
$message = '
<html>
<head>
 <title>Birthday Reminders for August</title>
</head>
<body>
<p>Here are the birthdays upcoming in August!</p>
<table>
 <tr>
  <th>Person</th><th>Day</th><th>Month</th><th>Year</th>
 </tr>
 <tr>
  <td>Joe</td><td>3rd</td><td>August</td><td>1970</td>
  <td>Sally</td><td>17th</td><td>August</td><td>1973</td>
 </tr>
</table>
</body>
</html>
';

/* Aby wys³aæ e-mail w foramcie HTML, nale¿y ustawiæ nag³ówek Content-type. */
$headers  = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=iso-8859-1\r\n";

/* dodatkowe nag³ówki */
$headers .= "From: Birthday Reminder <birthday@example.com>\r\n";

$headers .= "Cc: birthdayarchive@example.com\r\n";
$headers .= "Bcc: birthdaycheck@example.com\r\n";

/* a teraz wy¶lij */
mail($to, $subject, $message, $headers);
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      Upewnij siê, ¿e nie ma ¿adnych znaków nowej linii w argumencie
      <parameter>do</parameter> lub <parameter>temat</parameter>,
      gdy¿ w przeciwnym razie, e-mail mo¿e nie byæ wys³any poprawnie.
     </para>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.ezmlm-hash">
   <refnamediv>
    <refname>ezmlm_hash</refname>
    <refpurpose>Oblicza warto¶æ hash potrzebn± dla EZMLM</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
     <methodsynopsis>
      <type>int</type><methodname>ezmlm_hash</methodname>
      <methodparam><type>string</type><parameter>adres_e-mail</parameter></methodparam>
     </methodsynopsis>
    <simpara>
     <function>ezmlm_hash</function> oblicza warto¶æ hash potrzebn±
     przy przechowywaniu list adresatów programu EZMLM w bazie danych MySQL.
    </simpara>
    <para>
     <example>
      <title>Obliczanie warto¶ci hash i dodawanie nowego u¿ytkownika</title>
      <programlisting>
<![CDATA[
$user = "joecool@example.com";
$hash = ezmlm_hash ($user);
$query = sprintf ("INSERT INTO sample VALUES (%s, '%s')", $hash, $user);
$db->query($query); // wykorzystanie interfejsu PHPLIB db
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

