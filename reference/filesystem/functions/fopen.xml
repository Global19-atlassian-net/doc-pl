<?xml version="1.0" encoding="iso-8859-2"?>
<!-- EN-Revision: 1.2 Maintainer: adi Status: ready -->
<!-- $Revision: 1.4 $ -->
  <refentry id="function.fopen">
   <refnamediv>
    <refname>fopen</refname>
    <refpurpose>Otwiera plik lub URL</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Opis</title>
     <methodsynopsis>
      <type>int</type><methodname>fopen</methodname>
      <methodparam><type>string</type><parameter>nazwa_pliku</parameter></methodparam>
      <methodparam><type>string</type><parameter>tryb</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>u¿yj_include_path</parameter></methodparam>
     </methodsynopsis>
    <simpara>
     Je¶li <parameter>nazwa_pliku</parameter> zaczyna siê od "http://" (nie
     jest rozró¿niana wielko¶æ liter), jest otwierane po³±czenie HTTP 1.0
     do wybranego serwera, strona jest ¿±dana u¿ywaj±c metody HTTP GET
     i wska¼nik pliku jest ustawiany na pocz±tku cia³a odpowiedzi.
     Nag³ówek 'Host:' jest wysy³any z ¿±daniem pozwalaj±cym
     uchwyciæ oparte o nazwê wirtualne hosty.
    </simpara>
    <simpara>
     W PHP 4.3.0 (jeszcze nie udostêpnionym), je¶li masz wkompilowane sparcie dla
     OpenSSL, mo¿esz u¿yæ "https://" aby otworzyæ po³±czenie HTTP po SSL.
    </simpara>
    <simpara>
     Zauwa¿, ¿e wska¼nik pliku pozwala tobie odczytaæ tylko
     <emphasis>cia³o</emphasis> odpowiedzi; aby uzyskaæ nag³ówek HTTP
     musisz u¿yæ wersji PHP 4.0.5 lub nowszej.
     Nag³ówki s± przechowywane w zmiennej $http_response_header.
     W PHP 4.3.0 (jeszcze nie udostêpnionym), informacja z nag³owka mo¿e
     byæ pobrana u¿ywaj±c funkcji <function>file_get_wrapper_data</function>.
    </simpara>
    <simpara>
     Po³±czenia HTTP s± tylko do odczytu, nie mo¿esz zapisaæ danych lub
     kopiowaæ plików do zasobu HTTP.
    </simpara>
    <simpara>
     Wersje przed PHP 4.0.5 nie obs³uguj± przekierowañ HTTP. Z tego powodu
     katalogi musz± zawieraæ koñcz±ce slashe.
    </simpara>
    <simpara>
     Je¶li <parameter>nazwa_pliku</parameter> zaczyna siê od "ftp://"
     (nie jest rozró¿niana wielko¶æ znaków), jest otwierane po³±czenie
     ftp do podanego serwera i zwracany jest wska¼nik do ¿±danego pliku.
     je¶li serwer nie obs³uguje trybu pasywnego ftp, ta funkcja zawiedzie.
     Mo¿esz otwieraæ pliki albo do odczytu lub zapisu przez ftp (ale nie
     oba tryby równocze¶nie). Je¶li zdalny plik ju¿ istnieje na serwerze FTP
     i spróbujesz otworzyæ go do zapisu, ta funkcja zawiedzie.
     je¶li potrzebujesz zmodyfikowaæ istniej±ce pliki przez FTP, u¿yj
     <function>ftp_connect</function>.
    </simpara>
    <simpara>
     Je¶li <parameter>nazwa_pliku</parameter> jest jedn± z mo¿liwo¶ci
     "php://stdin", "php://stdout" lub "php://stderr" zostanie otworzony
     odpowiedni strumieñ stdio.  (To zosta³o wprowadzone w PHP 3.0.13;
     we wcze¶niejszych wersjach, aby dostaæ siê do strumienia stdio
     
     nazwa_pliku musi mieæ postaæ "/dev/stdin" lub "/dev/fd/0".)
    </simpara>
    <simpara>
     Je¶li <parameter>nazwa_pliku</parameter> zaczyna siê czymkolwiek innym
     zostanie otworzony plik z systemu plików i zostanie zwrócony wska¼nik
     pliku.
    </simpara>
    <simpara>
     Je¶li otwieranie siê nie powiedzie, funkcja zwróci &false;.
    </simpara>
    <para>
     <parameter>tryb</parameter> mo¿e byæ dowolny z poni¿szych:
     <itemizedlist>
      <listitem>
       <simpara>
        'r' - Otwórz tylko do odczytu; ustawia wska¼nik pliku na pocz±tku
        pliku.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        'r+' - Otwórz do odczytu i zapisu;  ustawia wska¼nik pliku na pocz±tku
        pliku.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        'w' - Otwórz tylko do zapisu; ustawia wska¼nik pliku na pocz±tku
        pliku i obcina plik (zeruje) do 0 d³ugo¶ci.
        Je¶li plik nie istnieje to próbuje go utworzyæ.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        'w+' - Otwórz do odczytu i zapisu; ustawia wska¼nik pliku na pocz±tku
        pliku i obcina plik (zeruje) do 0 d³ugo¶ci.
        Je¶li plik nie istnieje to próbuje go utworzyæ.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
       'a' - Otwórz tylko do zapisu; ustawia wska¼nik pliku na koñcu
        pliku. Je¶li plik nie istnieje to próbuje go utworzyæ.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        'a+' - Otwórz do odczytu i zapisu; ustawia wska¼nik pliku na koñcu
        pliku. Je¶li plik nie istnieje to próbuje go utworzyæ.
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
    <note>
     <para>
      Parametr <parameter>tryb</parameter> mo¿e zawieraæ literê
      'b'. To jest u¿yteczne tylko na systemach, które rozró¿niaj±
      pliki pomiêdzy binarne i tekstowe (np. Windows. To jest
      bezu¿yteczne na Unixach)
      Je¶li nie potrzebne zostanie zignorowane.
      </para>
    </note>
    <para>
      Mo¿esz u¿yæ opcjonalnego 3 parametru i ustawiæ go na "1", je¶li
     chcesz szukaæ pliku tak¿e w
     <link linkend="ini.include-path">include_path</link>.
    </para>
    <para>
     <example>
      <title><function>fopen</function> przyk³ad</title>
      <programlisting role="php">
<![CDATA[
$fp = fopen ("/home/rasmus/file.txt", "r");
$fp = fopen ("/home/rasmus/file.gif", "wb");
$fp = fopen ("http://www.example.com/", "r");
$fp = fopen ("ftp://user:password@example.com/", "w");
]]>
      </programlisting>
     </example>
    </para>
    <simpara>
     Je¶li do¶wiadczasz problemów z czytaniem i zapisywaniem do plików
     i u¿ywasz PHP jako modu³ serwera, pamiêtaj, ¿e pliki i katalogi
     które u¿ywasz musz± byæ osi±galne dla procesu serwera.
    </simpara>
    <para>
     Na platformach Windows, uwa¿aj na zastosowanie znaków ucieczki
     dla wszystkich u¿ytych w ¶cie¿ce do pliku backslashy, lub
     u¿yj slash'y.
     <informalexample>
      <programlisting role="php"> 
<![CDATA[
$fp = fopen ("c:\\data\\info.txt", "r");
]]>
      </programlisting>
     </informalexample>
    </para>
    <simpara>
     Patrz tak¿e: <function>fclose</function>,
     <function>fsockopen</function>,
     <function>socket_set_timeout</function> i
     <function>popen</function>.
    </simpara>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
