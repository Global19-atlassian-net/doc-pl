<?xml version="1.0" encoding="iso-8859-2"?>
<!-- EN-Revision: 1.5 Maintainer: slawek Status: ready -->
<!-- $Revision: 1.4 $ -->
 <reference id="ref.mysql">
  <title>MySQL</title>
  <titleabbrev>MySQL</titleabbrev>
  <partintro>
   <para id="mysql.intro">
    Funkcje te umo¿liwiaj± dostêp do serwerów baz danych MySQL.
    Wiêcej informacji o MySQL mo¿na znale¼æ na stronie <ulink
    url="&url.mysql;">&url.mysql;</ulink>.
   </para>
   <para>
    Dokumentacja do MySQL znajduje siê pod adresem <ulink
    url="&url.mysql.docs;">&url.mysql.docs;</ulink>.
   </para>

   <section id="mysql.requirements">
    <title>Wymagania</title>
    <para>
     Aby funkcje by³y dostêpne, nale¿y skompilowaæ PHP z obs³ug± MySQL.
    </para>
   </section>

   <section id="mysql.installation">
    <title>Installation</title>
    <para>
     Podaj±c opcjê konfiguracyjn± <option role="configure">--with-mysql</option>
     umo¿liwiasz PHP dostêp do baz MySQL. Je¶li u¿yjesz jej bez podania ¶cie¿ki
     do MySQL, PHP wykorzysta w³asne biblioteki klienta.
     W PHP4 obs³uga MySQL jest zawsze w³±czona, wiêc je¶li nie podasz tej
     opcji, PHP równie¿ u¿yje wbudowanych bibliotek. U¿ytkownicy, którzy
     uruchamiaj± inne aplikacje korzystaj±ce z MySQL (na przyk³ad równocze¶nie
     PHP3 i PHP4 jako modu³y apache, lub modu³ auth-mysql) powinni zawsze
     podawaæ ¶cie¿kê do MySQL:
     <option role="configure">--with-mysql=/sciezka/do/mysql</option>. To
     wymusi na PHP u¿ycie bibliotek zainstalowanych przez MySQL, co pozwoli
     unikn±æ konfliktów.
    </para>
   </section>

   <section id="mysql.configuration">
    <title>Konfiguracja</title>
    <para>
     Zachowanie funkcji MySQL zale¿y od ustawieñ w
     <link linkend="configuration.file">pliku konfiguracyjnym</link> &php.ini;.
     <table>
      <title>Opcje konfiguracyjne MySQL</title>
      <tgroup cols="3">
       <thead>
        <row>
         <entry>Nazwa</entry>
         <entry>Domy¶lnie</entry>
         <entry>Zmiana</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>mysql.allow_persistent</entry>
         <entry>"On"</entry>
         <entry>PHP_INI_SYSTEM</entry>
        </row>
        <row>
         <entry>mysql.max_persistent</entry>
         <entry>"-1"</entry>
         <entry>PHP_INI_SYSTEM</entry>
        </row>
        <row>
         <entry>mysql.max_links</entry>
         <entry>"-1"</entry>
         <entry>PHP_INI_SYSTEM</entry>
        </row>
        <row>
         <entry>mysql.default_port</entry>
         <entry>NULL</entry>
         <entry>PHP_INI_ALL</entry>
        </row>
        <row>
         <entry>mysql.default_socket</entry>
         <entry>NULL</entry>
         <entry>PHP_INI_ALL</entry>
        </row>
        <row>
         <entry>mysql.default_host</entry>
         <entry>NULL</entry>
         <entry>PHP_INI_ALL</entry>
        </row>
        <row>
         <entry>mysql.default_user</entry>
         <entry>NULL</entry>
         <entry>PHP_INI_ALL</entry>
        </row>
        <row> 
         <entry>mysql.default_password</entry> 
         <entry>NULL</entry> 
         <entry>PHP_INI_ALL</entry> 
        </row> 
       </tbody>
      </tgroup>
     </table>
     Aby uzyskaæ wiêcej informacji na temat sta³ych PHP_INI_* zobacz
     <function>ini_set</function>.
    </para>
    <para>
    Oto krótki opis poszczególnych opcji konfiguracyjnych:
    <variablelist>

     <varlistentry id="ini.mysql.allow-persistent">
      <term>
       <parameter>mysql.allow_persistent</parameter>
       <type>boolean</type>
      </term>
      <listitem>
       <para>
        Czy pozwalaæ na
        <link linkend="features.persistent-connections">sta³e po³±czenia</link>
        z MySQL.
       </para>
      </listitem>
     </varlistentry>
     
     <varlistentry id="ini.mysql.max-persistent">
      <term>
       <parameter>mysql.max_persistent</parameter>
       <type>integer</type>
      </term>
      <listitem>
       <para>
        Maksymalna liczba sta³ych po³±czeñ MySQL na ka¿dy proces.
       </para>
      </listitem>
     </varlistentry>
     
     <varlistentry id="ini.mysql.max-links">
      <term>
       <parameter>mysql.max_links</parameter>
       <type>integer</type>
      </term>
      <listitem>
       <para>
        Maksymalna liczba po³±czeñ MySQL na proces, w³±czaj±c w to po³±czenia
        sta³e.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry id="ini.mysql.default-port">
      <term>
       <parameter>mysql.default_port</parameter>
       <type>string</type>
      </term>
      <listitem>
       <para>
        Domy¶lny numer portu TCP, który bêdzie u¿yty przy ³±czeniu siê z
        serwerm baz danych, je¶li nie zostanie podany ¿aden inny. Je¶li
        nie bêdzie podany port domy¶lny, bêdzie on pobrany ze zmiennej
        ¶rodowiskowej <literal>MYSQL_TCP_PORT</literal>, wpisu
        <literal>mysql-tcp</literal> w pliku
        <filename>/etc/services</filename> lub podanej przy kompilacji opcji
        <literal>MYSQL_PORT</literal>, w tym w³a¶nie porz±dku. Pod Win32 u¿yta
        bêdzie tylko sta³a <literal>MYSQL_PORT</literal>.
       </para>
      </listitem>
     </varlistentry>
     
     <varlistentry id="ini.mysql.default-socket">
      <term>
       <parameter>mysql.default_socket</parameter>
       <type>string</type>
      </term>
      <listitem>
       <para>
        Domy¶lna nazwa gniazda, które bêdzie u¿yte do ³±czenia siê z lokalnym
        serwerem baz danych, je¶li nie zostanie podana ¿adna inna nazwa.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry id="ini.mysql.default-host">
      <term>
       <parameter>mysql.default_host</parameter>
       <type>string</type>
      </term>
      <listitem>
       <para>
        Domy¶lny serwer, który bêdzie u¿ywany przy ³±czeniu siê z
        baz± danych, je¶li nie zostanie podany ¿aden inny. Nie dotyczy
        <link linkend="ini.safe-mode">trybu bezpiecznego</link>.
       </para>
      </listitem>
     </varlistentry>
     
     <varlistentry id="ini.mysql.default-user">
      <term>
       <parameter>mysql.default_user</parameter>
       <type>string</type>
      </term>
      <listitem>
       <para>
        Domy¶lna nazwa u¿ytkownika, która bêdzie u¿ywana przy ³±czeniu siê z
        Nie dotyczy <link linkend="ini.safe-mode">trybu bezpiecznego</link>.
       </para>
      </listitem>
     </varlistentry>
     
     <varlistentry id="ini.mysql.default-password">
      <term>
       <parameter>mysql.default_password</parameter>
       <type>string</type>
      </term>
      <listitem>
       <para>
        Domy¶lne has³o, które bêdzie u¿yte przy ³±czeniu siê z serwerem baz
        danych, je¶li nie zostanie podane ¿adne inne. Nie dotyczy
        <link linkend="ini.safe-mode">trybu bezpiecznego</link>.
       </para>
      </listitem>
     </varlistentry>
     
    </variablelist>
    </para>
   </section>

   <section id="mysql.resources">
    <title>Rodzaje zasobów</title>
    <para>
     Modu³ MySQL wykorzystuje dwa rodzaje zasobów. Pierwszym jest identyfikator
     po³±czenia z baz± danych, drugim za¶ zasób wyniku, przechowuj±cy rezultat
     zapytania.
    </para>
   </section>

   <section id="mysql.constants">
    <title>Predefiniowane sta³e</title>
    <para>
     Funkcja <function>mysql_fetch_array</function> u¿ywa sta³ych dla ró¿nych
     typów tablic wynikowych. Zdefiniowane s± nastêpuj±ce sta³e:
     <table>
      <title>Sta³e pobierania MySQL</title>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>sta³a</entry>
         <entry>znaczenie</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>MYSQL_ASSOC</entry>
         <entry>
          Kolumny s± zwracane jako tablica, której indeks stanowi± nazwy pól.
         </entry>
        </row>
        <row>
         <entry>MYSQL_BOTH</entry>
         <entry>
          Kolumny s± zwracane jako tablica, indeksowana zarówno nazwami pól,
          jak i numerycznie.
         </entry>
        </row>
        <row>
         <entry>MYSQL_NUM</entry>
         <entry>
          Kolumny s± zwracane jako tablica indeksowana numerycznie. Indeks
          zaczyna siê od 0 i wskazuje na pierwsze pole w wyniku.
         </entry>
        </row>
        <row>
         <entry>MYSQL_STORE_RESULT</entry>
         <entry>
          Wynik operacji MySQL jest buforowany.
         </entry>
        </row>
        <row>
         <entry>MYSQL_USE_RESULT</entry>
         <entry>
          Wynik operacji MySQL nie jest buforowany.
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </para>
   </section>

   <section id="mysql.examples">
    <title>Przyk³ady</title>
    <para>
     Ten prosty przyk³ad demonstruje jak po³±czyæ siê, wykonaæ zapytanie,
     wy¶wietliæ wyniki i roz³±czyæ siê z baz± MySQL.
     <example>
      <title>Wykorzystanie funkcji MySQL</title>
      <programlisting role="php">
<![CDATA[ 
<?php
/* £±czenie i wybranie bazy */
$link = mysql_connect("localhost", "uzytkownik", "haslo")
    or die ("Nie mo¿na siê po³±czyæ");
print ("Po³±czenie nawi±zane");
mysql_select_db ("baza") or die ("Nie mozna wybraæ bazy danych");
    
/* Wysy³anie zapytania SQL */
$query = "SELECT * FROM tabela";
$result = mysql_query ($query) or die ("Zapytanie zakoñczone niepowodzeniem");

/* Wy¶wietlenie wyników w HTML */
print "<table>\n";
while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {
   print "\t<tr>\n";
   foreach ($line as $col_name) { 
       print "\t\t<td>$col_value</td>\n"; 
   }
   print "\t</tr>\n";
}
print "</table>\n";

/* Zwalnianie pamiêci */
mysql_free_result($result); 

/* Roz³±czanie */
mysql_close($link);
?>
]]> 
      </programlisting>
     </example>
    </para>
   </section>
  </partintro>

&reference.mysql.functions;

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil 
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

