<?xml version="1.0" encoding="iso-8859-2"?>
<!-- EN-Revision: n/a Maintainer: adi Status: ready -->
<!-- $Revision$ -->
<refentry xml:id="function.mysql-connect" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>mysql_connect</refname>
  <refpurpose>Otwiera po³±czenie do serwera MySQL</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>resource</type><methodname>mysql_connect</methodname>
   <methodparam choice="opt"><type>string</type><parameter>serwer</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>nazwa_u¿ytkownika</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>has³o</parameter></methodparam>
   <methodparam choice="opt"><type>bool</type><parameter>nowe_po³±czenie</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>flagi_klienta</parameter></methodparam>
  </methodsynopsis>
  <para>
   Otwiera lub ponownie u¿ywa po³±czenie do serwera MySQL.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>serwer</parameter></term>
     <listitem>
      <para>
       Serwer MySQL. Mo¿e tak¿e zawieraæ numer portu np.
       "nazwa_serwera:port" lub ¶cie¿kê do lokalnego gniazda np. ":/¶cie¿ka/do/gniazda" dla
       lokalnego hosta.
      </para>
      <para>
       Je¶li, dyrektywa PHP <link linkend="ini.mysql.default-host">mysql.default_host</link>
       jest nie zdefiniowana (domy¶lnie), wtedy domy¶ln± 
       warto¶ci± jest 'localhost:3306'. W &sqlsafemode;, ten parametr jest ignorowany
       i zawsze jest u¿ywana warto¶æ 'localhost:3306'.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>nazwa_u¿ytkownika</parameter></term>
     <listitem>
      <para>
       Nazwa u¿ytkownika. Domy¶lna wato¶æ jest definiowana przez <link
       linkend="ini.mysql.default-user">mysql.default_user</link>. W
       &sqlsafemode;, parametr ten jest ignorowany i u¿ywana jest nazwa u¿ytkownika, który
       jest w³a¶cicielem procesu serwera.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>has³o</parameter></term>
     <listitem>
      <para>
       Has³o. Domy¶lna warto¶æ jest zdefiniowana przez <link
       linkend="ini.mysql.default-password">mysql.default_password</link>. W
       &sqlsafemode;, ten parametr jest ignorowany i u¿yte jest puste has³o.
      </para>
     </listitem>
    </varlistentry>   
    <varlistentry>
     <term><parameter>nowe_po³±czenie</parameter></term>
     <listitem>
      <para>
       Je¶li, ponownie wywo³amy <function>mysql_connect</function>
       z tymi samymi argumentami, nie zostanie nawi±zane nowe po³±czenie, lecz
       zamiast tego, zostanie zwrócony identyfikator obecnie otwartego po³±czenia.
       Parametr <parameter>nowe_po³±czenie</parameter> modyfikuje to
       zachowanie i sprawia, ¿e <function>mysql_connect</function> zawsze otwiera
       nowe po³±czenie, nawet je¶li <function>mysql_connect</function> zosta³o wywo³ane
       wcze¶niej z tymi samymi parametrami.
       W &sqlsafemode;, ten parametr jest ignorowany.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>flagi_klienta</parameter></term>
     <listitem>
      <para>
       Parametr <parameter>flagi_klienta</parameter> mo¿e byæ kombinacj±
       nastêpuj±cych sta³ych:
       128 (w³±cza obs³ugê <literal>LOAD DATA LOCAL</literal>),
       <constant>MYSQL_CLIENT_SSL</constant>,
       <constant>MYSQL_CLIENT_COMPRESS</constant>, 
       <constant>MYSQL_CLIENT_IGNORE_SPACE</constant> lub
       <constant>MYSQL_CLIENT_INTERACTIVE</constant>.
       Przeczytaj sekcjê o <xref linkend="mysql.client-flags" /> w celu dalszych informacji.
       W &sqlsafemode;, ten parametr jest ignorowany.
      </para>
     </listitem>
    </varlistentry> 
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Zwraca identyfikator po³±czenia MySQL w przypadku sukcesu, lub &false; w przypadku pora¿ki.
  </para>
 </refsect1>

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>4.3.0</entry>
       <entry>
        Dodano parametr <parameter>flagi_klienta</parameter>.
       </entry>
      </row>
      <row>
       <entry>4.2.0</entry>
       <entry>
        Dodano parametr <parameter>nowe_po³±czenie</parameter>.
       </entry>
      </row>
      <row>
       <entry>3.0.10</entry>
       <entry>
        Dodano wsparcie dla ":/¶ciezka/do/gniazda" w 
        <parameter>serwer</parameter>.
       </entry>
      </row>
      <row>
       <entry>3.0.0</entry>
       <entry>
        Dodano wsparcie dla ":port" w <parameter>serwer</parameter>.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Przyk³ad <function>mysql_connect</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$link = mysql_connect('localhost', 'u¿ytkownik_mysql', 'has³o_mysql');
if (!$link) {
    die('Nie mo¿na siê po³aczyæ: ' . mysql_error());
}
echo 'Po³±czenie nawi±zane';
mysql_close($link);
?>
]]>
    </programlisting>
   </example>
  </para>
  <para>
   <example>
    <title>Przyk³ad <function>mysql_connect</function> z u¿yciem sk³adni <literal>nazwa_hosta:port</literal></title>
    <programlisting role="php">
<![CDATA[
<?php
// po³±czymy siê do example.com i portu 3307
$link = mysql_connect('example.com:3307', 'u¿ytkownik_mysql', 'has³o_mysql');
if (!$link) {
    die('Nie mo¿na siê po³±czyæ: ' . mysql_error());
}
echo 'Po³±czenie nawi±zane';
mysql_close($link);

// po³±czymy siê do localhost na port 3307
$link = mysql_connect('127.0.0.1:3307', 'u¿ytkownik_mysql', 'has³o_mysql');
if (!$link) {
    die('Nie mo¿na siê po³±czyæ: ' . mysql_error());
}
echo 'Po³±czenie nawi±zane';
mysql_close($link);
?>
]]>
    </programlisting>
   </example>
  </para>
  <para>
   <example>
    <title><function>mysql_connect</function> przyk³ad u¿ycia sk³adni ":/¶cie¿ka/do/gniazda"</title>
    <programlisting role="php">
<![CDATA[
<?php
// po³±czymy siê do lokalhost i gniazda np. /tmp/mysql.sock

//wariant 1: z pominiêciem localhost
$link = mysql_connect(':/tmp/mysql', 'u¿ytkownik_mysql', 'has³o_mysql');
if (!$link) {
    die('Nie mo¿na siê po³±czyæ: ' . mysql_error());
}
echo 'Po³±czenie nawi±zane';
mysql_close($link);


// wariant 2: z localhost
$link = mysql_connect('localhost:/tmp/mysql.sock', 'u¿ytkownik_mysql', 'has³o_mysql');
if (!$link) {
    die('Nie mo¿na siê po³±czyæ: ' . mysql_error());
}
echo 'Po³±czenie nawi±zane';
mysql_close($link);
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    Ilekroæ okre¶lasz serwer jako &quot;localhost&quot; lub
    &quot;localhost:port&quot;, biblioteka kliencka MySQL nadpisze
    to i spróbuje po³±czyæ siê do lokalnego gniazda (nazwanego potokiem w
    Windows). Je¶li chcesz u¿yæ TCP/IP, u¿yj &quot;127.0.0.1&quot;
    zamiast &quot;localhost&quot;. Je¶li biblioteka kliencka MySQL próbuje
    po³±czyæ siê do niew³a¶ciwego lokalnego gniazda, powiniene¶ ustawiæ prawid³ow± ¶cie¿kê jako
    <xref linkend="ini.mysql.default-host" /> w Twojej konfiguracji PHP i zostawiæ puste pole
    serwer.
   </para>
  </note>
  <note>
   <para>
    Po³±czenie do serwera zostanie zamkniête jak tylko wykonywanie
    skryptu zakoñczy siê, chyba, ¿e zostanie wcze¶niej zamkniête poprzez
    wyra¼ne wywo³anie <function>mysql_close</function>.
   </para>
  </note>
  <note>
   <para>
    Mo¿esz zapobiec informacj± o b³êdach w przypadku niepowodzenia za pomoc± poprzedzenia
    nazwy funkcji <link linkend="language.operators.errorcontrol">@</link>.
   </para>
  </note>
  <note>
   <para>
    B³±d "Can't create TCP/IP socket (10106)" zwykle oznacza, ¿e dyrektywa
    konfiguracyjna <link linkend="ini.variables-order">variables_order</link>
    nie zawiera znaku <literal>E</literal>. Pod Windows, je¶li ¶rodowisko nie jest
    skopiowane zmienna ¶rodowiskowa <literal>SYSTEMROOT</literal> nie bêdzie
    dostêpna i PHP bêdzie mieæ problemy aby za³adowaæ Winsock.
   </para>
  </note>

 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>mysql_pconnect</function></member>
    <member><function>mysql_close</function></member>
   </simplelist>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
